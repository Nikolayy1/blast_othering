Starting up Ollama server
Waiting for Ollama server to start
2025-09-19 23:45:20,296 - INFO - Setting Annotator variables and initializing Ollama client.
2025-09-19 23:45:20,296 - INFO - Loaded data from: /gpfs/alpine1/scratch/niho8409/blast_othering/ollama-prompt-main/prompts/default.json
2025-09-19 23:45:20,297 - INFO - Loaded data from: ./data/../data/examples.json
2025-09-19 23:45:20,314 - INFO - Formatting docs
  0%|          | 0/100 [00:00<?, ?it/s]100%|██████████| 100/100 [00:00<00:00, 1033079.80it/s]
2025-09-19 23:45:20,327 - INFO - Processing docs with 4 workers.
  0%|          | 0/100 [00:00<?, ?it/s]2025-09-19 23:45:36,925 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
  1%|          | 1/100 [00:16<27:24, 16.61s/it]2025-09-19 23:45:37,477 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
  2%|▏         | 2/100 [00:17<11:41,  7.16s/it]2025-09-19 23:45:37,967 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
  3%|▎         | 3/100 [00:17<06:38,  4.11s/it]2025-09-19 23:45:38,454 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
  4%|▍         | 4/100 [00:18<04:17,  2.68s/it]2025-09-19 23:45:38,994 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
  5%|▌         | 5/100 [00:18<03:01,  1.91s/it]2025-09-19 23:45:39,535 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
  6%|▌         | 6/100 [00:19<02:15,  1.44s/it]2025-09-19 23:45:40,074 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
  7%|▋         | 7/100 [00:19<01:46,  1.15s/it]2025-09-19 23:45:40,610 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
  8%|▊         | 8/100 [00:20<01:27,  1.05it/s]2025-09-19 23:45:41,157 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
  9%|▉         | 9/100 [00:20<01:15,  1.21it/s]2025-09-19 23:45:41,685 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 10%|█         | 10/100 [00:21<01:06,  1.36it/s]2025-09-19 23:45:42,172 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 11%|█         | 11/100 [00:21<00:58,  1.52it/s]2025-09-19 23:45:42,716 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 12%|█▏        | 12/100 [00:22<00:54,  1.60it/s]2025-09-19 23:45:43,250 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 13%|█▎        | 13/100 [00:22<00:51,  1.68it/s]2025-09-19 23:45:43,794 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 14%|█▍        | 14/100 [00:23<00:49,  1.72it/s]2025-09-19 23:45:44,328 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 15%|█▌        | 15/100 [00:23<00:48,  1.77it/s]2025-09-19 23:45:44,869 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 16%|█▌        | 16/100 [00:24<00:46,  1.79it/s]2025-09-19 23:45:45,355 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 17%|█▋        | 17/100 [00:25<00:44,  1.86it/s]2025-09-19 23:45:45,884 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 18%|█▊        | 18/100 [00:25<00:43,  1.87it/s]2025-09-19 23:45:46,418 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 19%|█▉        | 19/100 [00:26<00:43,  1.87it/s]2025-09-19 23:45:46,902 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 20%|██        | 20/100 [00:26<00:41,  1.93it/s]2025-09-19 23:45:46,907 - INFO - Saved data to: ./data/results
2025-09-19 23:45:46,907 - INFO - Progress saved after processing 20 docs.
2025-09-19 23:45:47,446 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 21%|██        | 21/100 [00:27<00:41,  1.90it/s]2025-09-19 23:45:47,988 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 22%|██▏       | 22/100 [00:27<00:41,  1.88it/s]2025-09-19 23:45:48,537 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 23%|██▎       | 23/100 [00:28<00:41,  1.86it/s]2025-09-19 23:45:49,070 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 24%|██▍       | 24/100 [00:28<00:40,  1.87it/s]2025-09-19 23:45:49,615 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 25%|██▌       | 25/100 [00:29<00:40,  1.86it/s]2025-09-19 23:45:50,150 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 26%|██▌       | 26/100 [00:29<00:39,  1.86it/s]2025-09-19 23:45:50,713 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 27%|██▋       | 27/100 [00:30<00:39,  1.84it/s]2025-09-19 23:45:51,255 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 28%|██▊       | 28/100 [00:30<00:39,  1.84it/s]2025-09-19 23:45:51,741 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 29%|██▉       | 29/100 [00:31<00:37,  1.90it/s]2025-09-19 23:45:52,230 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 30%|███       | 30/100 [00:31<00:36,  1.94it/s]2025-09-19 23:45:52,763 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 31%|███       | 31/100 [00:32<00:35,  1.92it/s]2025-09-19 23:45:53,320 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 32%|███▏      | 32/100 [00:32<00:36,  1.88it/s]2025-09-19 23:45:53,879 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 33%|███▎      | 33/100 [00:33<00:36,  1.86it/s]2025-09-19 23:45:54,398 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 34%|███▍      | 34/100 [00:34<00:35,  1.88it/s]2025-09-19 23:45:54,896 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 35%|███▌      | 35/100 [00:34<00:33,  1.91it/s]2025-09-19 23:45:55,386 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 36%|███▌      | 36/100 [00:35<00:32,  1.95it/s]2025-09-19 23:45:55,930 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 37%|███▋      | 37/100 [00:35<00:32,  1.92it/s]2025-09-19 23:45:56,419 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 38%|███▊      | 38/100 [00:36<00:31,  1.95it/s]2025-09-19 23:45:56,901 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 39%|███▉      | 39/100 [00:36<00:30,  1.99it/s]2025-09-19 23:45:57,433 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 40%|████      | 40/100 [00:37<00:30,  1.95it/s]2025-09-19 23:45:57,437 - INFO - Saved data to: ./data/results
2025-09-19 23:45:57,437 - INFO - Progress saved after processing 40 docs.
2025-09-19 23:45:57,973 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 41%|████      | 41/100 [00:37<00:30,  1.92it/s]2025-09-19 23:45:58,460 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 42%|████▏     | 42/100 [00:38<00:29,  1.96it/s]2025-09-19 23:45:58,995 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 43%|████▎     | 43/100 [00:38<00:29,  1.93it/s]2025-09-19 23:45:59,538 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 44%|████▍     | 44/100 [00:39<00:29,  1.90it/s]2025-09-19 23:46:00,068 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 45%|████▌     | 45/100 [00:39<00:28,  1.90it/s]2025-09-19 23:46:00,621 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 46%|████▌     | 46/100 [00:40<00:28,  1.87it/s]2025-09-19 23:46:01,161 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 47%|████▋     | 47/100 [00:40<00:28,  1.86it/s]2025-09-19 23:46:01,703 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 48%|████▊     | 48/100 [00:41<00:27,  1.86it/s]2025-09-19 23:46:02,186 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 49%|████▉     | 49/100 [00:41<00:26,  1.92it/s]2025-09-19 23:46:02,675 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 50%|█████     | 50/100 [00:42<00:25,  1.95it/s]2025-09-19 23:46:03,209 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 51%|█████     | 51/100 [00:42<00:25,  1.93it/s]2025-09-19 23:46:03,696 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 52%|█████▏    | 52/100 [00:43<00:24,  1.97it/s]2025-09-19 23:46:04,186 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 53%|█████▎    | 53/100 [00:43<00:23,  1.99it/s]2025-09-19 23:46:04,724 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 54%|█████▍    | 54/100 [00:44<00:23,  1.95it/s]2025-09-19 23:46:05,200 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 55%|█████▌    | 55/100 [00:44<00:22,  1.99it/s]2025-09-19 23:46:05,690 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 56%|█████▌    | 56/100 [00:45<00:21,  2.01it/s]2025-09-19 23:46:06,189 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 57%|█████▋    | 57/100 [00:45<00:21,  2.01it/s]2025-09-19 23:46:06,674 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 58%|█████▊    | 58/100 [00:46<00:20,  2.02it/s]2025-09-19 23:46:07,215 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 59%|█████▉    | 59/100 [00:46<00:20,  1.97it/s]2025-09-19 23:46:07,697 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 60%|██████    | 60/100 [00:47<00:20,  2.00it/s]2025-09-19 23:46:07,701 - INFO - Saved data to: ./data/results
2025-09-19 23:46:07,701 - INFO - Progress saved after processing 60 docs.
2025-09-19 23:46:08,182 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 61%|██████    | 61/100 [00:47<00:19,  2.02it/s]2025-09-19 23:46:08,717 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 62%|██████▏   | 62/100 [00:48<00:19,  1.97it/s]2025-09-19 23:46:09,276 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 63%|██████▎   | 63/100 [00:48<00:19,  1.91it/s]2025-09-19 23:46:09,751 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 64%|██████▍   | 64/100 [00:49<00:18,  1.97it/s]2025-09-19 23:46:10,286 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 65%|██████▌   | 65/100 [00:49<00:18,  1.94it/s]2025-09-19 23:46:10,821 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 66%|██████▌   | 66/100 [00:50<00:17,  1.91it/s]2025-09-19 23:46:11,352 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 67%|██████▋   | 67/100 [00:51<00:17,  1.91it/s]2025-09-19 23:46:11,892 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 68%|██████▊   | 68/100 [00:51<00:16,  1.89it/s]2025-09-19 23:46:12,426 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 69%|██████▉   | 69/100 [00:52<00:16,  1.88it/s]2025-09-19 23:46:12,983 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 70%|███████   | 70/100 [00:52<00:16,  1.86it/s]2025-09-19 23:46:13,480 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 71%|███████   | 71/100 [00:53<00:15,  1.90it/s]2025-09-19 23:46:13,967 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 72%|███████▏  | 72/100 [00:53<00:14,  1.94it/s]2025-09-19 23:46:14,470 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 73%|███████▎  | 73/100 [00:54<00:13,  1.96it/s]2025-09-19 23:46:14,948 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 74%|███████▍  | 74/100 [00:54<00:13,  2.00it/s]2025-09-19 23:46:15,505 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 75%|███████▌  | 75/100 [00:55<00:12,  1.93it/s]2025-09-19 23:46:16,039 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 76%|███████▌  | 76/100 [00:55<00:12,  1.91it/s]2025-09-19 23:46:16,525 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 77%|███████▋  | 77/100 [00:56<00:11,  1.95it/s]2025-09-19 23:46:17,063 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 78%|███████▊  | 78/100 [00:56<00:11,  1.92it/s]2025-09-19 23:46:17,596 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 79%|███████▉  | 79/100 [00:57<00:10,  1.91it/s]2025-09-19 23:46:18,094 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 80%|████████  | 80/100 [00:57<00:10,  1.94it/s]2025-09-19 23:46:18,099 - INFO - Saved data to: ./data/results
2025-09-19 23:46:18,099 - INFO - Progress saved after processing 80 docs.
2025-09-19 23:46:18,593 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 81%|████████  | 81/100 [00:58<00:09,  1.96it/s]2025-09-19 23:46:19,106 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 82%|████████▏ | 82/100 [00:58<00:09,  1.96it/s]2025-09-19 23:46:19,639 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 83%|████████▎ | 83/100 [00:59<00:08,  1.93it/s]2025-09-19 23:46:20,176 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 84%|████████▍ | 84/100 [00:59<00:08,  1.91it/s]2025-09-19 23:46:20,663 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 85%|████████▌ | 85/100 [01:00<00:07,  1.95it/s]2025-09-19 23:46:21,151 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 86%|████████▌ | 86/100 [01:00<00:07,  1.98it/s]2025-09-19 23:46:21,690 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 87%|████████▋ | 87/100 [01:01<00:06,  1.94it/s]2025-09-19 23:46:22,230 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 88%|████████▊ | 88/100 [01:01<00:06,  1.91it/s]2025-09-19 23:46:22,716 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 89%|████████▉ | 89/100 [01:02<00:05,  1.95it/s]2025-09-19 23:46:23,293 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 90%|█████████ | 90/100 [01:02<00:05,  1.88it/s]2025-09-19 23:46:23,837 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 91%|█████████ | 91/100 [01:03<00:04,  1.87it/s]2025-09-19 23:46:24,377 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 92%|█████████▏| 92/100 [01:04<00:04,  1.86it/s]2025-09-19 23:46:24,915 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 93%|█████████▎| 93/100 [01:04<00:03,  1.86it/s]2025-09-19 23:46:25,455 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 94%|█████████▍| 94/100 [01:05<00:03,  1.86it/s]2025-09-19 23:46:25,986 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 95%|█████████▌| 95/100 [01:05<00:02,  1.87it/s]2025-09-19 23:46:26,544 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 96%|█████████▌| 96/100 [01:06<00:02,  1.84it/s]2025-09-19 23:46:27,085 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 97%|█████████▋| 97/100 [01:06<00:01,  1.85it/s]2025-09-19 23:46:27,564 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 98%|█████████▊| 98/100 [01:07<00:01,  1.91it/s]2025-09-19 23:46:28,096 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
 99%|█████████▉| 99/100 [01:07<00:00,  1.90it/s]2025-09-19 23:46:28,582 - INFO - HTTP Request: POST http://10.225.144.50:9999/api/chat "HTTP/1.1 200 OK"
100%|██████████| 100/100 [01:08<00:00,  1.95it/s]2025-09-19 23:46:28,586 - INFO - Saved data to: ./data/results
2025-09-19 23:46:28,586 - INFO - Progress saved after processing 100 docs.
100%|██████████| 100/100 [01:08<00:00,  1.47it/s]
2025-09-19 23:46:28,587 - INFO - Saved data to: ./data/results
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/gpfs/alpine1/scratch/niho8409/blast_othering/ollama-prompt-main/run.py", line 110, in <module>
    for doc_id, doc in stage_1_results["data"].items()
                       ~~~~~~~~~~~~~~~^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
